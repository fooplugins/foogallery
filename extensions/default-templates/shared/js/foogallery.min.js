/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 0.0.1
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
!function(a,b){b.$=a}(jQuery,window.FooGallery=window.FooGallery||{}),function(a){if(!a)return void console.warn("jQuery must be included in the page prior to the FooGallery.utils library.");var b={$:a,version:"0.0.1"};b.versionCompare=function(a,b){function c(a){for(var b=a.split("."),c=0,d=b.length;c<d;c++)b[c]=parseInt(b[c]),isNaN(b[c])&&(b[c]=0);return b}if(!/[\d.]/.test(a)||!/[\d.]/.test(b))return NaN;for(var d=c(a),e=c(b);d.length<e.length;)d.push(0);for(;e.length<d.length;)e.push(0);for(var f=0;f<d.length;++f){if(e.length==f)return 1;if(d[f]!=e[f])return d[f]>e[f]?1:-1}return d.length!=e.length?-1:0};var c=!!window.FooGallery.utils;c?c&&(b.versionCompare(b.version,window.FooGallery.utils.version)>0?(console.warn("An older version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will override it."),window.FooGallery.utils=b):console.warn("A newer version of FooGallery.utils ("+window.FooGallery.utils.version+") already exists in the page, version "+b.version+" will not register itself.")):window.FooGallery.utils=b}(jQuery),function(a,b){"0.0.1"===b.version&&(b.is={},b.is.array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.is.boolean=function(a){return"[object Boolean]"===Object.prototype.toString.call(a)},b.is.element=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:!!a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},b.is.empty=function(a){if(b.is.undef(a)||null===a)return!0;if(b.is.number(a)&&0==a)return!0;if(b.is.boolean(a)&&a===!1)return!0;if(b.is.string(a)&&0===a.length)return!0;if(b.is.array(a)&&0===a.length)return!0;if(b.is.jq(a)&&0===a.length)return!0;if(b.is.hash(a)){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0}return!1},b.is.error=function(a){return"[object Error]"===Object.prototype.toString.call(a)},b.is.fn=function(a){return a===window.alert||"[object Function]"===Object.prototype.toString.call(a)},b.is.hash=function(a){return b.is.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},b.is.jq=function(c){return!b.is.undef(a)&&c instanceof a},b.is.number=function(a){return"[object Number]"===Object.prototype.toString.call(a)&&!isNaN(a)},b.is.object=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&!b.is.undef(a)&&null!==a},b.is.promise=function(a){return b.is.object(a)&&b.is.fn(a.then)&&b.is.fn(a.promise)},b.is.size=function(a){return!!(b.is.string(a)&&!b.is.empty(a)||b.is.number(a))&&/^(auto|none|(?:[\d\.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(a)},b.is.string=function(a){return"[object String]"===Object.prototype.toString.call(a)},b.is.undef=function(a){return void 0===a})}(FooGallery.utils.$,FooGallery.utils),function(a,b,c){if("0.0.1"===b.version){b.fn={};var d=Function.prototype.toString;b.fn.CONTAINS_SUPER=/xyz/.test(d.call(function(){xyz}))?/\b_super\b/:/.*/,b.fn.addOrOverride=function(a,e,f){if(c.object(a)&&c.string(e)&&!c.empty(e)&&c.fn(f)){var g=a[e],h=c.fn(g)&&b.fn.CONTAINS_SUPER.test(d.call(f));a[e]=h?function(a,b){return function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d}}(g,f):f}},b.fn.apply=function(a,b){function d(){return a.apply(this,b)}return b=c.array(b)?b:[],d.prototype=a.prototype,new d},b.fn.arg2arr=function(a){return Array.prototype.slice.call(a)},b.fn.check=function(d,e,f,g){function h(a){return function(){return a.apply(d,arguments)}}return f=c.fn(f)?f:a.noop,d=c.object(d)?d:window,e=c.string(e)?b.fn.fetch(e,g):e,h(c.fn(e)?e:f)},b.fn.fetch=function(b,d){return!c.string(b)||c.empty(b)?null:(d=c.object(d)?d:window,a.each(b.split("."),function(a,b){if(!d[b])return!1;d=d[b]}),c.fn(d)?d:null)},b.fn.enqueue=function(d,e,f,g){function h(a,b){try{return n.push(a),b.apply(a,i)}catch(a){return j.reject(a,n),j}}var i=b.fn.arg2arr(arguments),j=a.Deferred(),k=a.Deferred(),l=k.promise(),m=[],n=[],o=!0;return d=i.shift(),e=i.shift(),a.each(d,function(a,d){c.fn(d[e])&&(l=l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}return o=!1,h(d,d[e])}))}),l.then(function(){if(!o){var a=b.fn.arg2arr(arguments);m.push(a)}o=!1,j.resolve(m)}),l.fail(function(){var a=b.fn.arg2arr(arguments);a.push(n),j.reject.apply(j,a)}),k.resolve(),j}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b){if("0.0.1"===a.version){a.url={};var c=document.createElement("a");a.url.parts=function(a){return c.href=a,{hash:c.hash,host:c.host,hostname:c.hostname,href:c.href,origin:c.origin,pathname:c.pathname,port:c.port,protocol:c.protocol,search:c.search}},a.url.full=function(a){return!b.string(a)||b.empty(a)?null:(c.href=a,c.href)},a.url.param=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))return a;var e,f,g,h;return b.undef(d)?(e=new RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)"),f=e.exec(a)||[,""],g=f[1].replace(/\+/g,"%20"),b.string(g)&&!b.empty(g)?decodeURIComponent(g):null):(e=new RegExp("([?&])"+c+"[^&]*"),h=c+"="+encodeURIComponent(d),g=a.replace(e,"$1"+h),g!==a||e.test(g)||(g+="&"+h),g)}}}(FooGallery.utils,FooGallery.utils.is),function(a,b,c){"0.0.1"===a.version&&(a.str={},a.str.camel=function(a){return b.empty(a)?a:a.toUpperCase()===a?a.toLowerCase():a.replace(/^([A-Z])|[-\s_]+(\w)/g,function(a,c,d){return b.string(d)?d.toUpperCase():c.toLowerCase()})},a.str.contains=function(a,c,d){return!(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c))&&(c.length<=a.length&&(d?a.toUpperCase().indexOf(c.toUpperCase()):a.indexOf(c))!==-1)},a.str.containsWord=function(a,c,d){if(!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)||a.length<c.length)return!1;for(var e=a.split(/\W/),f=0,g=e.length;f<g;f++)if(d?e[f].toUpperCase()==c.toUpperCase():e[f]==c)return!0;return!1},a.str.endsWith=function(a,c){return!b.string(a)||b.empty(a)||!b.string(c)||b.empty(c)?a==c:a.slice(a.length-c.length)==c},a.str.escapeRegExp=function(a){return b.empty(a)?a:a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},a.str.fnv1a=function(a){if(!b.string(a)||b.empty(a))return null;var c,d,e=2166136261;for(c=0,d=a.length;c<d;c++)e^=a.charCodeAt(c),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},a.str.from=function(c,d){return!b.string(c)||b.empty(c)||!b.string(d)||b.empty(d)?null:a.str.contains(c,d)?c.substring(c.indexOf(d)+d.length):null},a.str.join=function(d,e,f){if(!b.string(d)||!b.string(e))return null;var g=c.arg2arr(arguments);d=g.shift();var h,i,j=g.shift();for(h=0,i=g.length;h<i;h++)e=g[h],b.empty(e)||(a.str.endsWith(j,d)&&(j=j.slice(0,j.length-d.length)),a.str.startsWith(e,d)&&(e=e.slice(d.length)),j+=d+e);return j},a.str.startsWith=function(a,c){return!b.empty(a)&&!b.empty(c)&&a.slice(0,c.length)==c},a.str.until=function(c,d){return b.empty(c)||b.empty(d)?c:a.str.contains(c,d)?c.substring(0,c.indexOf(d)):c},a.str.format=function(a,d,e){var f=c.arg2arr(arguments);if(a=f.shift(),b.empty(a)||b.empty(f))return a;1===f.length&&(b.array(f[0])||b.object(f[0]))&&(f=f[0]);for(var g in f)a=a.replace(new RegExp("\\{"+g+"\\}","gi"),f[g]);return a})}(FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c,d,e){if("0.0.1"===b.version){b.obj={};var f=function(){};b.obj.create=function(a){if(!c.object(a))throw TypeError("Argument must be an object");f.prototype=a;var b=new f;return f.prototype=null,b},b.obj.extend=function(e,f,g){if(!c.object(e)||!c.object(f))return e;var h=d.arg2arr(arguments);return e=h.shift(),a.each(h,function(a,c){b.obj.merge(e,c)}),e},b.obj.merge=function(a,d){if(!c.object(a)||!c.object(d))return a;var e;for(e in d)d.hasOwnProperty(e)&&(c.object(d[e])?(a[e]=c.object(a[e])?a[e]:{},b.obj.merge(a[e],d[e])):c.array(d[e])?a[e]=d[e].slice():a[e]=d[e]);return a},b.obj.mergeValid=function(d,e,f,g){if(!c.hash(f)||!c.hash(e))return d;e=c.hash(e)?e:{},g=c.hash(g)?g:{};var h,i,j;for(h in e)e.hasOwnProperty(h)&&c.fn(e[h])&&(i=c.array(g[h])?g[h]:c.string(g[h])?[g[h]]:[h],a.each(i,function(a,g){if(j=b.obj.prop(f,g),!c.undef(j))return e[h](j)?(b.obj.prop(d,h,j),!1):void 0}));return d},b.obj.prop=function(b,d,f){if(c.object(b)&&!c.empty(d)){var g,h;if(c.undef(f))return e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){if(a===h)f=b[d];else{if(!c.object(b[d]))return!1;b=b[d]}})):c.undef(b[d])||(f=b[d]),f;e.contains(d,".")?(g=d.split("."),h=g.length-1,a.each(g,function(a,d){if(a===h)b[d]=f;else{if(!c.object(b[d]))return!1;b=b[d]}})):c.undef(b[d])||(b[d]=f)}}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){if("0.0.1"===b.version){var d=0;b.uniqueId=function(a,b){var e=a.attr("id");return c.empty(e)&&(b=c.string(b)&&!c.empty(b)?b:"uid-",e=b+ ++d,a.attr("id",e).data("__uniqueId__",!0)),e},b.removeUniqueId=function(a){a.data("__uniqueId__")&&a.removeAttr("id").removeData("__uniqueId__")}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c){if("0.0.1"===b.version){b.transition={};var d=document.createElement("div");b.transition.supported=function(a){var b=a.style;return c.string(b.transition)||c.string(b.WebkitTransition)||c.string(b.MozTransition)||c.string(b.msTransition)||c.string(b.OTransition)}(d),b.transition.end=function(a){var b=a.style;return c.string(b.transition)?"transitionend":c.string(b.WebkitTransition)?"webkitTransitionEnd":c.string(b.MozTransition)?"transitionend":c.string(b.msTransition)?"msTransitionEnd":c.string(b.OTransition)?"oTransitionEnd":null}(d),b.transition.duration=function(a,b){if(b=c.number(b)?b:0,!c.jq(a))return b;var d=a.css("transition-duration");if(/^([\d\.]*)+?(ms|s)$/i.test(d)){var e=d.match(/^([\d\.]*)+?(ms|s)$/i),f=parseFloat(e[1]);return"s"===e[2].toLowerCase()&&(f*=1e3),f}return b},b.transition.start=function(d,e,f,g){var h=a.Deferred();if(d=d.first(),b.transition.supported){var i=d.data("transition_safety");c.hash(i)&&c.number(i.timer)&&(clearTimeout(i.timer),d.removeData("transition_safety").off(b.transition.end+".utils"),i.deferred.reject()),g=c.number(g)?g:b.transition.duration(d)+50,i=d.data("transition_safety",{deferred:h,timer:setTimeout(function(){d.removeData("transition_safety").off(b.transition.end+".utils"),h.resolve()},g)}),d.on(b.transition.end+".utils",function(a){d.is(a.target)&&(clearTimeout(i.timer),d.removeData("transition_safety").off(b.transition.end+".utils"),h.resolve())})}return setTimeout(function(){d.toggleClass(e,f),b.transition.supported||h.resolve()},1),h},a.fn.fooTransition=function(a,c,d,e){return b.transition.start(this,a,c,e).then(d),this}}}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c,d,e){"0.0.1"===b.version&&(b.Class=function(){},b.Class.extend=function(a){function f(){if(!c.fn(this.construct))throw new SyntaxError('FooGallery.utils.Class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)}a=c.hash(a)?a:{};var g=d.create(this.prototype);for(var h in a)a.hasOwnProperty(h)&&e.addOrOverride(g,h,a[h]);return g.construct=c.fn(g.construct)?g.construct:function(){},f.prototype=g,f.prototype.constructor=c.fn(g.__ctor__)?g.__ctor__:f,f.extend=b.Class.extend,f.override=b.Class.override,f},b.Class.override=function(a,b){e.addOrOverride(this.prototype,a,b)})}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj,FooGallery.utils.fn),function(a,b,c,d){"0.0.1"===b.version&&(b.Factory=b.Class.extend({construct:function(){this.registered={}},contains:function(a){return!c.undef(this.registered[a])},load:function(b,e,f){var g,h,i=this,j=d.arg2arr(arguments),k=[],l=[];b=j.shift()||{};for(g in i.registered)if(i.registered.hasOwnProperty(g)){var m=i.registered[g];b.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&(m={name:g,klass:h,priority:i.registered[g].priority})),k.push(m)}for(g in b)b.hasOwnProperty(g)&&!i.registered.hasOwnProperty(g)&&(h=b[g],c.string(h)&&(h=d.fetch(b[g])),c.fn(h)&&k.push({name:g,klass:h,priority:0}));return k.sort(function(a,b){return b.priority-a.priority}),a.each(k,function(a,b){c.fn(b.klass)&&l.push(d.apply(b.klass,j))}),l},make:function(a,b,e){var f,g=this,h=d.arg2arr(arguments);return a=h.shift(),f=g.registered[a],c.hash(f)&&c.fn(f.klass)?d.apply(f.klass,h):null},names:function(b){b=!!c.boolean(b)&&b;var d,e=[];if(b){var f=[];for(d in this.registered)this.registered.hasOwnProperty(d)&&f.push(this.registered[d]);f.sort(function(a,b){return b.priority-a.priority}),a.each(f,function(a,b){e.push(b.name)})}else for(d in this.registered)this.registered.hasOwnProperty(d)&&e.push(d);return e},register:function(a,b,d){if(!c.string(a)||c.empty(a)||!c.fn(b))return!1;d=c.number(d)?d:0;var e=this.registered[a];return this.registered[a]={name:a,klass:b,priority:c.undef(e)?d:e.priority},!0}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.fn),function(a,b,c){"0.0.1"===a.version&&(a.Debugger=a.Class.extend({construct:function(a){this.key=a,this.enabled=!!localStorage.getItem(this.key)},enable:function(){this.enabled=!0,localStorage.setItem(this.key,this.enabled)},disable:function(){this.enabled=!1,localStorage.removeItem(this.key)},log:function(a,c){this.enabled&&console.log.apply(console,b.arg2arr(arguments))},logf:function(a,d,e){if(this.enabled){var f=b.arg2arr(arguments);a=f.shift(),d=f.shift(),f.unshift(c.format(a,d)),this.log.apply(this,f)}}}))}(FooGallery.utils,FooGallery.utils.fn,FooGallery.utils.str),function(a,b,c){"0.0.1"===b.version&&(b.Throttle=b.Class.extend({construct:function(a){this.id=null,this.active=!1,this.idle=c.number(a)?a:0},limit:function(a){if(c.fn(a)){this.clear();var b=this;this.active=!0,this.id=setTimeout(function(){b.active=!1,b.id=null,a()},this.idle)}},clear:function(){c.number(this.id)&&(clearTimeout(this.id),this.active=!1,this.id=null)}}))}(FooGallery.utils.$,FooGallery.utils,FooGallery.utils.is),function(a,b,c){b.ready=function(a){function c(){try{a.call(window,b.$)}catch(a){console.error(a)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?c():document.addEventListener("DOMContentLoaded",c,!1)},b.getImages=function(b){var c=a(b),d=a();return c.is("img[width][height]")?d=c:c.is(".foogallery-thumb")?d=c.find("img[width][height]"):c.is(".foogallery-container")&&(d=c.find(".foogallery-thumb img[width][height]")),d},b.addSize=function(d,e){e=!!c.boolean(e)&&e;var f=b.getImages(d);f.length&&f.each(function(b,c){var d=a(c),f=parseFloat(d.attr("width")),g=parseFloat(d.attr("height"));if(!isNaN(f)&&!isNaN(g)){var h=d.outerWidth();e&&(h=d.closest(".foogallery-container").parent().innerWidth(),h=h>f?f:h);var i=h/f,j=g*i;d.css({width:h,height:j})}})},a.fn.fgAddSize=function(a){return b.addSize(this,a),this},b.removeSize=function(a){var c=b.getImages(a);c.length&&c.css({width:"",height:""})},a.fn.fgRemoveSize=function(){return b.removeSize(this),this}}(FooGallery.$,FooGallery,FooGallery.utils.is),function(a,b,c,d){b.Loader=c.Class.extend({construct:function(d,e){this.$target=a(d),this.options=a.extend(!0,{},b.Loader.defaults,e),this.loadingSelector="."+this.options.loadingClass,this.loadedSelector="."+this.options.loadedClass,this.errorSelector="."+this.options.errorClass,this.imgSelector="img["+this.options.attrSrc+"]",this._delay=null,this._throttle=new c.Throttle(this.options.throttle)},init:function(){var b=this;return a.Deferred(function(c){b._delay=setTimeout(function(){b._delay=null,b.options.lazy&&a(window).on("scroll.lazy",{self:b},b.onscroll),b.check().then(function(){d.fn(b.options.oninit)&&b.options.oninit.call(b),c.resolve()}).fail(c.reject)},b.options.delay)}).promise()},destroy:function(){a(window).off("scroll.lazy",this.onscroll),d.number(this._delay)&&clearTimeout(this._delay),d.number(this._throttle)&&clearTimeout(this._throttle)},onscroll:function(a){var b=a.data.self;b._throttle.limit(function(){b.check()})},check:function(){var b=this;return a.Deferred(function(c){for(var e,f=[],g=[],h=b.$target.not(b.loadingSelector).not(b.loadedSelector).not(b.errorSelector).get(),i=0,j=h.length;i<j;i++){e=a(h[i]);var k=null;if("img"!==e.prop("tagName").toLowerCase()){var l=e.find(b.imgSelector).not(b.loadingSelector).not(b.loadedSelector).not(b.errorSelector);if(0===l.length){b.options.classTarget(e).add(e).addClass(b.options.loadedClass);continue}k=e,e=l}if(b.options.lazy)for(var m,n=e.get(),o=b.getViewportBounds(),p=0,q=n.length;p<q;p++)m=b.getElementBounds(n[p]),b.intersect(o,m)&&f.push(n[p]);else f=e.get()}if(f.length>0){d.fn(b.options.onbeforebatch)&&b.options.onbeforebatch.call(b,f);for(var r=0,s=f.length;r<s;r++)g.push(b.load(f[r]));a.when.apply(a,g).promise().done(function(){var a=Array.prototype.slice.call(arguments);(k||e).trigger("lazy_batch",[a]),d.fn(b.options.onbatch)&&b.options.onbatch.call(b,a),c.resolve()})}else c.resolve()}).promise()},load:function(b){var c=this;return a.Deferred(function(e){function f(){b.onload=b.onerror=null,c.options.classTarget(g).add(g).removeClass(c.options.loadingClass).addClass(c.options.errorClass),g.trigger("lazy_error",[b]),d.fn(c.options.onerror)&&c.options.onerror.call(c,b),d.string(c.options.errorImage)&&(b.src=c.options.errorImage),e.resolve(b)}d.fn(c.options.onbeforeload)&&c.options.onbeforeload.call(c,b);var g=a(b);c.options.classTarget(g).add(g).addClass(c.options.loadingClass);var h=c.parse(g);b.onload=function(){b.onload=b.onerror=null,c.options.classTarget(g).add(g).removeClass(c.options.loadingClass).addClass(c.options.loadedClass),g.trigger("lazy_load",[b]),d.fn(c.options.onload)&&c.options.onload.call(c,b),e.resolve(b)},b.onerror=f,b.src=h})},parse:function(b){var c=this,e=b.attr(c.options.attrSrc),f=b.attr(c.options.attrSrcset);if(!d.string(f))return e;var g=a.map(f.replace(/(\s[\d.]+[whx]),/g,"$1 @,@ ").split(" @,@ "),function(a){return{url:c.options.regexUrl.exec(a)[1],w:parseFloat((c.options.regexWidth.exec(a)||[0,1/0])[1]),h:parseFloat((c.options.regexHeight.exec(a)||[0,1/0])[1]),x:parseFloat((c.options.regexDpr.exec(a)||[0,1])[1])}});if(!g.length)return e;var h=g[0].w===1/0&&g[0].h===1/0,i=parseFloat(b.attr("width")),j=h?1/0:isNaN(i)?b.width():i;g.unshift({url:e,w:j,h:1/0,x:1});var k,l=c.getViewportInfo();for(k in l)l.hasOwnProperty(k)&&(g=a.grep(g,function(a,b){return function(c){return c[a]>=l[a]||c[a]===b}}(k,c.reduce(g,k,"max"))));for(k in l)l.hasOwnProperty(k)&&(g=a.grep(g,function(a,b){return function(c){return c[a]===b}}(k,c.reduce(g,k,"min"))));return g[0].url},getViewportInfo:function(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight,x:window.devicePixelRatio||1}},getViewportBounds:function(){var a=document.body.getBoundingClientRect(),b=d.undef(window.scrollY)?document.documentElement.scrollTop:window.scrollY,c=d.undef(window.scrollX)?document.documentElement.scrollLeft:window.scrollX;return{top:a.top+b,right:a.right+c,bottom:a.bottom+b,left:a.left+c}},getElementBounds:function(a){var b=a.getBoundingClientRect();return{top:b.top-this.options.offset,right:b.right+this.options.offset,bottom:b.bottom+this.options.offset,left:b.left-this.options.offset}},intersect:function(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)},reduce:function(b,c,d){return Math[d].apply(null,a.map(b,function(a){return a[c]}))}}),b.Loader.defaults={lazy:!1,loadingClass:"foogallery-loading",loadedClass:"foogallery-loaded",errorClass:"foogallery-error",classTarget:function(a){return a.closest(".foogallery-item")},throttle:50,timeout:3e4,offset:400,delay:100,errorImage:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",oninit:null,onbeforeload:null,onload:null,onerror:null,onbeforebatch:null,onbatch:null,attrSrcset:"data-srcset",attrSrc:"data-src",regexUrl:/^\s*(\S*)/,regexWidth:/\S\s+(\d+)w/,regexHeight:/\S\s+(\d+)h/,regexDpr:/\S\s+([\d.]+)x/},a.fn.fgLoader=function(c){return this.each(function(){var d=a.data(this,"__FooGalleryLoader__");d&&d.destroy(),d=new b.Loader(this,c),d.init(),a.data(this,"__FooGalleryLoader__",d)})}}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is);