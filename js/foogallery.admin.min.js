/*
* FooGallery - The Most Intuitive and Extensible Gallery Creation and Management Tool Ever Created for WordPress
* @version 2.1.4
* @link 
* @copyright Steven Usher & Brad Vincent 2015
* @license Released under the GPLv3 license.
*/
!function(o,l,e,i,a){l.Settings=e.Class.extend({construct:function(e,t){var n=this;n.$el=i.jq(e)?e:o(e),n.opt=a.extend({},l.Settings.defaults,t),n.mqlMobile=window.matchMedia("(max-width: "+n.opt.mobile+"px)"),n.isMobile=n.mqlMobile.matches,n.mqlHover=window.matchMedia("(hover: hover)"),n.canHover=n.mqlHover.matches,n.tabs=new l.Settings.VerticalTabs(n),n.onMqlMobileChanged=n.onMqlMobileChanged.bind(n),n.onMqlHoverChanged=n.onMqlHoverChanged.bind(n)},init:function(){var e=this;e.tabs.init(),e.isMobile&&e.setupMobile(),e.canHover&&e.setupHover(),e.mqlMobile.addListener(e.onMqlMobileChanged),e.mqlHover.addListener(e.onMqlHoverChanged)},destroy:function(){var e=this;e.tabs.destroy(),e.mqlMobile.removeListener(e.onMqlMobileChanged),e.mqlMobile.removeListener(e.onMqlHoverChanged)},setupMobile:function(){this.$el.addClass("is-mobile"),this.tabs.setupMobile()},teardownMobile:function(){this.$el.removeClass("is-mobile"),this.tabs.teardownMobile()},setupHover:function(){this.$el.addClass("can-hover"),this.tabs.setupHover()},teardownHover:function(){this.$el.removeClass("can-hover"),this.tabs.teardownHover()},onMqlMobileChanged:function(e){var t=this;(t.isMobile=e.matches)?t.setupMobile():t.teardownMobile()},onMqlHoverChanged:function(e){var t=this;(t.canHover=e.matches)?t.setupHover():t.teardownHover()}}),l.Settings.defaults={mobile:960},o(function(){l.settings=new l.Settings(".foogallery-settings",{mobile:960}),l.settings.init()})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj),function(o,l,e,i){l.Settings.VerticalTabs=e.Class.extend({construct:function(e){var t=this;t.settings=e,t.$tabs=null,t.$contents=null,t.children=[]},init:function(){var n=this,e=n.settings.$el;n.$tabs=e.children(".foogallery-vertical-tabs"),n.$contents=e.children(".foogallery-tab-contents"),n.children=n.$tabs.children(".foogallery-vertical-tab").map(function(e,t){t=new l.Settings.VerticalTabs.Tab(n,t);return t.init(),t}).get()},destroy:function(){this.children.forEach(function(e){e.destroy()})},setupMobile:function(){this.children.forEach(function(e){e.setupMobile()})},teardownMobile:function(){this.children.forEach(function(e){e.teardownMobile()})},setupHover:function(){this.children.forEach(function(e){e.setupHover()})},teardownHover:function(){this.children.forEach(function(e){e.teardownHover()})},hideMenu:function(){this.children.forEach(function(e){e.toggleMenu(!1)})},showMenu:function(t){this.children.forEach(function(e){e.toggleMenu(e.name===t)})}}),l.Settings.VerticalTabs.Tab=e.Class.extend({construct:function(e,t){var n=this;n.vt=e,n.$el=i.jq(t)?t:o(t),n.name=null,n.selector=null,n.$content=null,n.$tabs=null,n.$header=null,n.children=[],n.target=null,n.hasChildren=!1,n._enter=null,n._leave=null,n.onClick=n.onClick.bind(n),n.onDocumentClick=n.onDocumentClick.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n.onMouseLeave=n.onMouseLeave.bind(n)},init:function(){var n=this;n.name=n.$el.data("name"),n.selector='[data-name="'+n.name+'"]',n.$content=n.vt.$contents.find(n.selector),n.$tabs=n.$el.children(".foogallery-vertical-child-tabs"),n.children=n.$tabs.children(".foogallery-vertical-child-tab").map(function(e,t){t=new l.Settings.VerticalTabs.Tab(n.vt,t);return t.init(),t}).get(),n.hasChildren=0<n.children.length,n.target=n.children.find(function(e){return e.name===n.name})||null,n.$header=o("<div/>",{class:"foogallery-vertical-child-header"}).append(o("<span/>",{class:"foogallery-tab-text",text:n.$el.children(".foogallery-tab-text").first().text()})),n.$el.on("click",n.onClick)},destroy:function(){this.$el.off("click",this.onClick)},setupMobile:function(){this.$tabs.prepend(this.$header)},teardownMobile:function(){this.$header.remove()},setupHover:function(){var e=this;e.$el.on({mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave})},teardownHover:function(){var e=this;e.$el.off({mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave})},activate:function(){var e=this;e.target instanceof l.Settings.VerticalTabs.Tab?e.target.activate():(e.vt.$tabs.add(e.vt.$contents).find(".foogallery-tab-active").removeClass("foogallery-tab-active"),e.$el.closest(".foogallery-vertical-tab").add(e.$el).add(e.$content).addClass("foogallery-tab-active"),e.vt.hideMenu())},toggleMenu:function(e){var t=this.$el.closest(".foogallery-vertical-tab");e=i.undef(e)?!t.hasClass("foogallery-show-child-menu"):!!e,t.toggleClass("foogallery-show-child-menu",e),e?o(document).on("click",this.onDocumentClick):o(document).off("click",this.onDocumentClick)},onMouseEnter:function(e){var t=this;t.hasChildren&&(clearTimeout(t._leave),(t._leave=null)===t._enter&&(t._enter=setTimeout(function(){t.$el.addClass("foogallery-show-child-menu"),t._enter=null},300)))},onMouseLeave:function(e){var t=this;t.hasChildren&&(clearTimeout(t._enter),(t._enter=null)===t._leave&&(t._leave=setTimeout(function(){t.$el.removeClass("foogallery-show-child-menu"),t._leave=null},300)))},onClick:function(e){e.preventDefault(),e.stopPropagation();e=this;e.hasChildren&&e.vt.settings.isMobile&&!e.vt.settings.canHover?e.toggleMenu():e.activate()},onDocumentClick:function(e){e.preventDefault(),this.toggleMenu(!1)}})}(FooGallery.$,FooGallery,FooGallery.utils,FooGallery.utils.is,FooGallery.utils.obj);