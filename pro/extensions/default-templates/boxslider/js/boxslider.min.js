/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@boxslider/slider@2.8.1/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t,e=[];"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver((t=>{t.forEach((t=>e.find((e=>e.el===t.target))?.reset()))})));var i={add(i){e.push(i),t?.observe(i.el)},remove(i){t?.unobserve(i.el),e=e.filter((t=>t!==i))}},s=Object.freeze({autoScroll:"undefined"!=typeof matchMedia&&!matchMedia("(prefers-reduced-motion: reduce)").matches,loop:!0,pauseOnHover:!1,speed:800,startIndex:0,swipe:!0,swipeTolerance:30,timeout:5e3}),r=class{_activeIndex;_el;_effect;_stateStore;options;slides;autoScrollTimer;eventListeners;elListeners;isDestroyed;transitionQueue;get activeIndex(){return this._activeIndex}get el(){if(void 0===this._el)throw new Error("Slider element is undefined");return this._el}get length(){return this.slides.length}getOption(t){return this.options[t]}get stateStore(){if(void 0===this._stateStore)throw new Error("State store is undefined, are you trying to interact with a destroyed slider?");return this._stateStore}get effect(){if(void 0===this._effect)throw new Error("Slide effect is undefined, are you trying to interact with a destroyed slider?");return this._effect}constructor(t,e,r){if(this._el=t,this._stateStore=new class{elementStore;constructor(){this.elementStore=new Map}storeAttributes(t,e){(Array.isArray(t)?t:[t]).forEach((t=>{const i=this.elementStore.get(t)??{};e.forEach((e=>i[e]=t.getAttribute(e))),this.elementStore.set(t,i)}))}revert(){for(const[t,e]of this.elementStore.entries())Object.keys(e).forEach((i=>{const s=e[i];null===s||""===s?t.removeAttribute(i):null!==s&&t.setAttribute(i,s)}));this.elementStore.clear()}},this.transitionQueue=(()=>{const t=[],e=()=>{const i=t[0];i&&i().then((()=>{t.shift(),e()}))};return{push(i){t.push(i),1===t.length&&e()},clear(){t.length=0}}})(),this.slides=[],this.eventListeners={},this.elListeners={},this.isDestroyed=!1,this.options={...s,...r},this._activeIndex=this.options.startIndex,this.init(e),this.slides.length<this.activeIndex)throw this.destroy(),new Error(`Start index option is out of bounds - slides=${this.slides.length} start=${this.activeIndex}`);this.applyEventListeners(),i.add(this)}reset(t,e){this.stopAutoScroll(),"function"==typeof this.effect.destroy&&this.effect.destroy(this.el),this.stateStore.revert(),this.options={...this.options,...t},void 0===t?.startIndex||isNaN(t.startIndex)||(this._activeIndex=t.startIndex),this.init(e||this.effect)}next(){const t=this.activeIndex===this.slides.length-1;return t&&!this.options.loop?Promise.resolve():this.skipTo(t?0:this.activeIndex+1,!1)}prev(){const t=0===this.activeIndex;return t&&!this.options.loop?Promise.resolve():this.skipTo(t?this.slides.length-1:this.activeIndex-1)}skipTo(t,e){return new Promise((i=>{this.transitionQueue.push((async()=>{await this.transitionTo(t,void 0===e?t<this.activeIndex:e),i()}))}))}pause(){return this.options.autoScroll=!1,this.autoScrollTimer&&(this.stopAutoScroll(),this.emit("pause")),this}play(){return this.options.autoScroll=!0,this.setAutoScroll(),this.emit("play"),this}addEventListener(t,e){return Array.isArray(this.eventListeners[t])||(this.eventListeners[t]=[]),this.eventListeners[t].push(e),this}removeEventListener(t,e){const i=this.eventListeners[t]?.filter((t=>t!==e));return this.eventListeners[t]=i,this}destroy(){this.isDestroyed=!0,this.stopAutoScroll(),this.effect.destroy&&this.effect.destroy(this.el),this.stateStore.revert(),this.transitionQueue.clear(),i.remove(this),this.emit("destroy"),this.eventListeners={},Object.entries(this.elListeners).forEach((([t,e])=>e.forEach((e=>this.el.removeEventListener(t,e))))),this.elListeners={},delete this._el,delete this._stateStore,delete this._effect,this.slides.length=0}init(t){this._effect=t,this.slides=this.getSlides(),this.stateStore.storeAttributes([this.el,...this.slides],["style"]),this.effect.initialize(this.el,this.slides,{...this.options,startIndex:this.activeIndex},this.stateStore),this.addAriaAttributes(),this.options.autoScroll&&this.setAutoScroll()}addAriaAttributes(){this.stateStore.storeAttributes([this.el,...this.slides],["aria-live","role","aria-roledescription"]),this.el.setAttribute("aria-atomic","false"),this.el.setAttribute("aria-live","polite"),this.el.hasAttribute("role")||this.el.setAttribute("role","region"),this.slides.forEach((t=>{t.hasAttribute("role")||t.setAttribute("role","group"),t.hasAttribute("aria-roledescription")||t.setAttribute("aria-roledescription","slide")}))}getSlides(){return Array.from(this.el.children).filter((t=>t instanceof HTMLElement))}transitionTo(t,e){return new Promise(((i,s)=>{if(this.isDestroyed||t===this.activeIndex)return i();if(t<0||t>=this.slides.length)return s(new Error(`${t} is not a valid slide index`));this.stopAutoScroll();const r={el:this.el,slides:this.slides,speed:this.options.speed,currentIndex:this.activeIndex,isPrevious:e,nextIndex:t};this._activeIndex=t,this.emit("before",{currentIndex:r.currentIndex,nextIndex:r.nextIndex,speed:r.speed}),this.effect.transition(r).then((()=>{this.options.autoScroll&&this.setAutoScroll(),this.emit("after"),i()}))}))}stopAutoScroll(){window.clearTimeout(this.autoScrollTimer)}emit(t,e){const i=this.eventListeners[t];if("destroy"===t){const t=i;t?.forEach((t=>t()))}else i?.forEach((t=>t({currentIndex:this.activeIndex,speed:this.options.speed,...e})))}setAutoScroll(){this.stopAutoScroll(),window.requestAnimationFrame((()=>{this._el&&(this.el.setAttribute("aria-live","off"),this.autoScrollTimer=window.setTimeout((()=>this.next()),this.options.timeout))}))}addElListener(t,e){this.el.addEventListener(t,e),this.elListeners[t]=this.elListeners[t]||[],this.elListeners[t].push(e)}applyEventListeners(){this.addElListener("pointerenter",(()=>{this.options.autoScroll&&this.options.pauseOnHover&&this.pause()})),this.addElListener("pointerleave",(()=>{this.options.autoScroll&&this.options.pauseOnHover&&this.play()})),this.options.swipe&&this.addSwipeNavigation()}addSwipeNavigation(){let t=0;this.addElListener("pointerdown",(e=>{t=e.clientX})),this.addElListener("pointerup",(e=>{const i=e.clientX-t;Math.abs(i)>=this.options.swipeTolerance&&(i>0?this.prev():this.next(),e.stopPropagation())}))}};function o(t,e){Object.keys(e).forEach((i=>t.style.setProperty(i,e[i])))}var n=class{options;transitionTimer=0;asyncTimer=0;constructor(t){this.options={cover:!0===t?.cover,timingFunction:t?.timingFunction||"ease-in-out"}}initialize(t,e,i){o(t,{overflow:"hidden"}),-1!=="static inherit".indexOf(getComputedStyle(t).position)&&o(t,{position:"relative"}),e.forEach(((t,e)=>{o(t,{left:"0",position:"absolute",top:"0",transform:`translateX(${t.offsetWidth}px)`,transition:"initial",visibility:"hidden","z-index":"1"}),e===i.startIndex&&o(t,{transform:"translateX(0px)",visibility:"visible","z-index":"2"})}))}destroy(){window.clearTimeout(this.transitionTimer),window.clearTimeout(this.asyncTimer)}transition(t){return new Promise((e=>{const i=t.slides[t.currentIndex],s=`${i.offsetWidth}px`,r=t.slides[t.nextIndex],n=`${r.offsetWidth}px`;o(r,{transform:`translateX(${t.isPrevious?"-"+n:n})`}),this.asyncTimer=window.setTimeout((()=>{o(r,{transform:"translateX(0px)",transition:`transform ${t.speed}ms ${this.options.timingFunction}`,visibility:"visible","z-index":"2"}),o(i,{transform:this.options.cover?"translateX(0px)":`translateX(${t.isPrevious?s:"-"+s})`,transition:this.options.cover?"initial":`transform ${t.speed}ms ${this.options.timingFunction}`,visibility:"visible","z-index":"1"}),this.transitionTimer=window.setTimeout((()=>{o(i,{transform:`translateX(${s})`,transition:"initial",visibility:"hidden"}),e()}),t.speed)}),0)}))}},a=class{options;translateZ;transitionTimer=0;constructor(t){this.options={direction:t?.direction||"horizontal",perspective:t?.perspective||1e3}}initialize(t,e,i,s){const r=t.offsetWidth,n=t.offsetHeight,a=`${this.options.perspective}px`,l=t.parentElement;if(null==l)throw new Error("Unable to locate viewport element for Cube slider");this.translateZ="vertical"===this.options.direction?n/2:r/2,s.storeAttributes(l,["style"]),e.forEach((t=>o(t,{left:"0",position:"absolute",top:"0"}))),o(t,{left:"0",overflow:"visible",position:"absolute",top:"0"}),-1===["absolute","fixed","relative"].indexOf(getComputedStyle(l).position)&&o(l,{position:"relative"}),o(l,{overflow:"visible",perspective:a}),o(e[i.startIndex||0],{transform:`${this.rotation(0)} translate3d(0, 0, ${this.translateZ}px)`}),o(t,{"transform-style":"preserve-3d",transform:`translate3d(0, 0, -${this.translateZ}px)`}),this.transitionTimer=window.setTimeout((()=>o(t,{transition:`transform ${i.speed}ms`})),50)}transition(t){return new Promise((e=>{const i=t.isPrevious?90:-90;o(t.slides[t.nextIndex],{transform:`${this.rotation(-i)} translate3d(0, 0, ${this.translateZ}px)`,"z-index":"2"}),o(t.el,{transition:`transform ${t.speed}ms`,transform:`translate3d(0, 0, -${this.translateZ}px) ${this.rotation(i)}`}),this.transitionTimer=window.setTimeout((()=>{t.slides.forEach(((e,i)=>{i!==t.nextIndex&&o(e,{transform:"initial"})})),o(t.el,{transition:"initial",transform:`translate3d(0, 0, -${this.translateZ}px) ${this.rotation(0)}`}),o(t.slides[t.nextIndex],{transform:`${this.rotation(0)} translate3d(0, 0, ${this.translateZ}px)`,"z-index":"1"}),e()}),t.speed)}))}destroy(){window.clearTimeout(this.transitionTimer)}rotation(t){return`rotate3d(${"vertical"===this.options.direction?"1, 0, 0":"0, 1, 0"}, ${t}deg)`}},l=class{options;transitionTimer=0;constructor(t){this.options={timingFunction:t?.timingFunction||"ease-in"}}initialize(t,e,i){-1!=="static inherit".indexOf(getComputedStyle(t).position)&&o(t,{position:"relative"}),e.forEach(((t,e)=>{o(t,{height:"100%",left:"0",opacity:"2",position:"absolute",top:"0",transition:`opacity ${i.speed}ms ${this.options.timingFunction}`,width:"100%","z-index":"2"}),e!==i.startIndex&&o(t,{opacity:"0","z-index":"1"})}))}transition(t){return new Promise((e=>{const i=t.slides[t.currentIndex],s=t.slides[t.nextIndex];o(i,{"z-index":"1",opacity:"0"}),o(s,{"z-index":"2",opacity:"1"}),this.transitionTimer=window.setTimeout(e,t.speed)}))}destroy(){window.clearTimeout(this.transitionTimer)}},h="bs-tile",d="bs-tile-front",c="bs-tile-back",p=class{createTile(t){const e=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),r=[i,s];return e.classList.add(t.tileClass),o(e,{height:`${t.height}px`,left:`${t.fromLeft}px`,overflow:"hidden",position:"absolute",top:`${t.fromTop}px`,width:`${t.width}px`}),r.forEach((e=>{o(e,{height:`${t.boxHeight}px`,left:`-${t.fromLeft}px`,position:"absolute",top:`-${t.fromTop}px`,transition:"opacity 400ms",width:`${t.boxWidth}px`})})),o(s,{opacity:"0"}),i.classList.add(t.frontClass),e.appendChild(i),s.classList.add(t.backClass),e.appendChild(s),e}transition(t,e){const i=t.querySelector(`.${d}`),s=t.querySelector(`.${c}`);o(i,{opacity:"front"===e?"1":"0"}),o(s,{opacity:"front"===e?"0":"1"})}setTileFace(t,e){const i=t.cloneNode(!0);i.removeAttribute("style"),e.replaceChildren(i)}},u=class{createTile(t){const e=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),r=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),l=[r,a];return o(e,{height:`${t.height}px`,left:`${t.fromLeft}px`,perspective:"300px",position:"absolute",top:`${t.fromTop}px`,width:`${t.width}px`,"z-index":`${t.zIndex}`}),i.classList.add(t.tileClass),o(i,{height:"100%",position:"relative","transform-style":"preserve-3d",transition:`transform ${t.speed}ms`,width:"100%"}),e.appendChild(i),l.forEach((e=>o(e,{height:`${t.boxHeight}px`,left:`-${t.fromLeft}px`,position:"absolute",top:`-${t.fromTop}px`,width:`${t.boxWidth}px`}))),o(s,{"backface-visibility":"hidden",inset:"0",overflow:"clip",position:"absolute"}),o(n,{"backface-visibility":"hidden",inset:"0",overflow:"clip",position:"absolute",transform:"rotateY(180deg)"}),s.appendChild(r),s.classList.add(t.frontClass),i.appendChild(s),n.appendChild(a),n.classList.add(t.backClass),i.appendChild(n),e}transition(t,e){o(t,{transform:`rotateY(${"back"===e?180:0}deg)`})}setTileFace(t,e){const i=t.cloneNode(!0);i.removeAttribute("style"),e.firstChild.replaceChildren(i)}},f={rowOffset:50,rows:8,tileEffect:"flip"},m=class{options;_tileWrapper;tileTransition;grid;activeFace;rowTimers=[];tileTimers=[];get tileWrapper(){if(void 0===this._tileWrapper)throw new Error("TileWrapper is undefined");return this._tileWrapper}constructor(t){this.options={...f,...t},this.activeFace="front",this.tileTransition="fade"===this.options.tileEffect?new p:new u}initialize(t,e,i){const s=e[i.startIndex||0],r=document.createDocumentFragment();this.grid=this.calculateGrid(t),this._tileWrapper&&this.destroy(t);const n=document.createElement("div");n.setAttribute("aria-hidden","true"),t.appendChild(n),this._tileWrapper=n,-1==="fixed absolute relative".indexOf(getComputedStyle(t).position)&&o(t,{position:"relative"}),o(this.tileWrapper,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"});const a=this.grid.rows*this.grid.cols;for(let t=0;t<this.grid.rows;++t){const e=t*this.grid.tileHeight;for(let o=0;o<this.grid.cols;++o){const n=this.tileTransition.createTile({backClass:`${h}-back`,boxWidth:this.grid.width,boxHeight:this.grid.height,fromTop:e,fromLeft:o*this.grid.tileWidth,frontClass:`${h}-front`,height:this.grid.tileHeight,speed:(i.speed-this.options.rowOffset*(this.grid.rows-1))/this.grid.cols,tileClass:h,width:this.grid.tileWidth,zIndex:a-(t+o)});r.appendChild(n),this.tileTransition.setTileFace(s,n.querySelector(`.${d}`))}}e.forEach((t=>o(t,{position:"absolute",clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",border:"0"}))),this.tileWrapper.appendChild(r)}transition(t){return new Promise((e=>{const i=this.tileWrapper.querySelectorAll(`.${h}`),s=this.options.rowOffset,r=(t.speed-s*(this.grid.rows-1))/this.grid.cols,o="front"===this.activeFace?"back":"front";this.rowTimers.length=0,this.tileTimers.length=0,this.tileWrapper.querySelectorAll(`.${"front"===o?d:c}`).forEach((e=>this.tileTransition.setTileFace(t.slides[t.nextIndex],e)));for(let t=0;t<this.grid.rows;++t){let n=t*this.grid.cols,a=0;const l=n+this.grid.cols,h=t*s;this.rowTimers.push(window.setTimeout((()=>{for(;n<l;++n){const t=a*r,s=i[n];this.tileTimers.push(window.setTimeout((()=>{this.tileTransition.transition(s,o),s===i[i.length-1]&&(this.activeFace=o,e())}),t)),a+=1}}),h))}}))}destroy(t){t.removeChild(this.tileWrapper),delete this._tileWrapper,this.rowTimers.forEach(window.clearTimeout),this.tileTimers.forEach(window.clearTimeout)}calculateGrid(t){const{width:e,height:i}=getComputedStyle(t),s=parseInt(i,10)??t.offsetHeight,r=parseInt(e,10)??t.offsetWidth,o=this.options.rows,n=Math.ceil(s/o),a=Math.floor(t.offsetWidth/n);return{cols:a,height:s,rows:o,tileHeight:n,tileWidth:Math.ceil(r/a),width:r}}};export{r as BoxSlider,n as CarouselSlider,a as CubeSlider,l as FadeSlider,m as TileSlider,s as defaultOptions};export default null;
//# sourceMappingURL=/sm/5b22722eb8190a854338fbc3c0ea9c6e3e42566e20d470cd696e765fbc4bdd49.map